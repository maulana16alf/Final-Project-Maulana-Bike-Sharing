# -*- coding: utf-8 -*-
"""Proyek_Analisis_Data.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1Frli3Hs2DJh-qcSmP_Elt-_zgV4n02xh

# Proyek Analisis Data: Bike Sharing Dataset
- **Nama:** Maulana Arif
- **Email:** m004d4ky1604@bangkit.academy
- **ID Dicoding:** maulana357_arif

## Menentukan Pertanyaan Bisnis

1. How is the trend of bikesharing usage by registered and casual users?
2. What is the peak season of bikesharing usage?
3. Is there a correlation between humidity and the number of bike sharing users?

## Import Semua Packages/Library yang Digunakan
"""

import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns



#Gathering Data
days_df = pd.read_csv("https://raw.githubusercontent.com/maulana16alf/Final-Project-Maulana-Bike-Sharing/main/Data%20Processing/raw_data_day.csv")
days_df.head()

#Assessing Data
days_df.info()
#The dateday column is still stated as object. We have to convert it into a date"""

days_df.isna().sum()
print("Jumlah duplikasi: ", days_df.duplicated().sum())
#There is no dupplicated value in the dataset
days_df.describe()

#Cleaning Data

datetime_columns = ["dteday"]
for column in datetime_columns:
  days_df[column] = pd.to_datetime(days_df[column])
#Convert all dateday column data into a datetime format

days_df.info()

def season_convertion(season):
    season_index = {
        1:'Winter',
        2:'Spring',
        3:'Summer',
        4:'Fall'}
    return season_index.get(season)
season_list = []
for season in days_df['season']:
    season = season_convertion(season)
    season_list.append(season)
days_df['season'] = season_list
#Change the column 'season' by using season index information

days_df['yr'] = days_df['dteday'].dt.year
#Convert name of year which stated in number into the name of based on the dateday column

days_df['weekday'] = days_df['dteday'].dt.day_name()
#Convert name of day which stated in number into the name of based on the dateday column

days_df['mnth'] = days_df['dteday'].dt.month_name()
#Convert name of month which stated in number into the name of based on the dateday column

days_df['temp'] = days_df['temp']*41
days_df['atemp'] = days_df['atemp']*50
days_df['hum'] = days_df['hum']*100
days_df['windspeed'] = days_df['windspeed']*67
#Convert the normalized data into an actual data

days_df.to_csv("cleaned_days.csv", index=False)
#As we have done cleaning the data, we can import the cleaned data into the folder


#Exploratory Data Analysis (EDA)
days_df.describe(include="all")
#Based on the data shape exploration, we can retreive such informations as below:
#1.   days_df contains in total of 731 rows
#2.   days_df contains in total of 16 columns

cleaned_days_df = pd.read_csv("cleaned_days.csv")
#Import the cleaned data sheets as we move on to the exploratory phase of data wrangling

cleaned_days_df.groupby(by=["yr", "season", "mnth"]).agg({
    "casual": "sum",
    "registered": "sum",
    "cnt": "sum",
    "dteday": "first"
}).reset_index().sort_values(by=["dteday"], ascending=[True])
#The grouped data shows summed up:
#1.   Count of each month registered and casual users of bake sharing system in 2011 and 2012.
#2.   Seasonal data of bike sharing users


#Visualization & Explanatory Analysis
#Here are some questions which will be used as the guidance to analyze the cleaned data sheet:
#1. How is the trend of bikesharing usage by registered and casual users?
#2. What is the peak season of bikesharing usage?
#3. Is there a correlation between humidity and the number of bike sharing users?

#Pertanyaan 1: How is the trend of bikesharing usage by registered and casual users?
#Make resample table to show each month counted users data
cleaned_days_df['dteday'] = pd.to_datetime(cleaned_days_df['dteday'])
monthly_users_df = cleaned_days_df.resample(rule='M', on='dteday').agg({
    "casual": "sum",
    "registered": "sum",
    "cnt": "sum"
})
monthly_users_df.head(24)
monthly_users_df = cleaned_days_df.resample(rule='M', on='dteday').agg({
    "casual": "sum",
    "registered": "sum",
    "cnt": "sum"
})
monthly_users_df.index = pd.to_datetime(monthly_users_df.index)
monthly_users_df.index = monthly_users_df.index.strftime('%b-%y')
monthly_users_df = monthly_users_df.reset_index()
monthly_users_df = monthly_users_df.rename(columns={'dteday': 'month-year'})
#Make a monthly table by adding additional information, such as sum of casual, registered, and overall users count

type_users_df = cleaned_days_df.resample(rule='M', on='dteday').agg({
    "casual": "mean",
    "registered": "mean",
    'cnt': "mean"
})
type_users_df.index = pd.to_datetime(type_users_df.index)
type_users_df.index = type_users_df.index.strftime('%b-%y')
type_users_df = type_users_df.reset_index()
type_users_df = type_users_df.rename(columns={'dteday': 'month-year'})

type_users_df["%casual"] = (type_users_df["casual"]/type_users_df["cnt"])*100
type_users_df["%registered"] = (type_users_df["registered"]/type_users_df["cnt"])*100
type_users_df.head(5)
#Adding column of casual-overall ratio and registered-overall ratio


#Data Visualization
plt.figure(figsize=(16,6))
# Create a line plot using the sns.lineplot() function
sns.lineplot(x="month-year", y="casual", data=monthly_users_df, label='Casual')
sns.lineplot(x="month-year", y="registered", data=monthly_users_df, label='Registered')

# Add labels and a title to the plot
plt.xlabel("Date")
plt.ylabel("Total Rides")
plt.title("Monthly count of casual and registered bikeshare rides (2011-2012)")

# Add a legend to the plot
plt.legend(loc='upper right', fontsize=14)

# Show the plot
plt.tight_layout()
plt.show()
#Make a graph which shown the monthly casual-overall ratio and monthly registered-overall ratio over time"""


plt.figure(figsize=(16,6))
# Create a line plot using the sns.lineplot() function
sns.lineplot(x="month-year", y="%casual", data=type_users_df, label='Casual')

# Add labels and a title to the plot
plt.xlabel("Date")
plt.ylabel("Ratio (%)")
plt.title("Ratio of casual to sum of all bikeshare rides (2011-2012)")

# Add a legend to the plot
plt.legend(loc='upper right', fontsize=14)

# Show the plot
plt.tight_layout()
plt.show()
#Create a graph of casual-registered users of each month to know the comparison between number of casual and registered users
#Insight:
#1.   The overall data of registered and casual users of bake sharing system shows similar pattern over two year period of 2011-2012.
#2.   But, the ratio of is very low between December 2011 until February 2012 simultenously with the reduction of overall bike share usage

### Pertanyaan 2: What is the peak season of bikesharing usage?
seasonal_users_df = cleaned_days_df.groupby(by="season").agg({
    "casual": "sum",
    "registered": "sum",
    "cnt": "sum",
}).reset_index().sort_values(by=["season"], ascending=[True])

#Make a graph
sns.set(style="whitegrid")
plt.figure(figsize=(12, 5))
sns.barplot(x='season',
            y='cnt',
            data=seasonal_users_df,
            palette="viridis")

# Customize the plot
plt.title('Histogram of Users Count by Season')
plt.xlabel('Season')
plt.ylabel('Count of Users')
#Insight:
#1.   The peak season of bike share usage is during Summer Season and the lowest is during winter season
#2.   There is major difference between number of users in winter season compared to others

#Pertanyaan 3: Is there a correlation between humidity and the number of bike sharing users?
#Make a graph
plt.figure(figsize=(14,6))

sns.scatterplot(x='hum', y='cnt', data=cleaned_days_df, hue='season')
plt.xlabel("Humidity (%)")
plt.ylabel("Number of Users")
plt.title("Correlation of active Users related to Humidity of the Season")

#Show the plot
plt.tight_layout()
plt.show()
#Insight:
#1.   The scatter plot above shows if there's no significant relation between humidity and the number of active users
#2.   Most likely, people are tend to use bike share when the humidity in condition betweeen 40% to 90%

#Conclusion
#- How is the trend of bikesharing usage by registered and casual users?
#> 1. The overall data of registered and casual users of bake sharing system shows similar pattern over two year period of 2011-2012.
#> 2. But, the ratio of is very low between December 2011 until February 2012 simultenously with the reduction of overall bike share usage
#> 3. In conclusion, both casual and registerd users show a positive growth over two years analysis. While, every winter show the reduction of bike share users (in range of November to January)
#- What is the peak season of bikesharing usage?
#> The peak season of bike share usage is during Summer Season and the lowest is during winter season
#- Is there a correlation between humidity and the number of bike sharing users?
#> 1. The scatter plot above shows if there's no significant relation between humidity and the number of active users due to separation of the data
#> 2. Besides, people are tend to use bike share when the humidity in condition betweeen 40% to 90% in every season

#DESIGNING DASHBOARD
import datetime
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import streamlit as st
from babel.numbers import format_currency
sns.set(style='dark')

st.title("BIKE SHARE DATA ANALYSIS")
 
with st.sidebar:
    
    st.header('BIKE SHARE, CO.')
    st.text("")
    st.image("data:image/png;base64,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")
    st.text("")
    st.subheader('Description')
    st.markdown('''Bike sharing systems are new generation of traditional bike rentals where 
                whole process from membership, rental and return back has become automatic. 
                Through these systems, user is able to easily rent a bike from a particular 
                position and return back at another position. Currently, there are about over 
                500 bike-sharing programs around the world which is composed of over 500 thousands bicycles.''')
    date = st.date_input(label='Rent a bike, now!', min_value=datetime.date(1900, 1, 1))
    st.write('Selected Data:', date)

    st.caption("Copyright (c) 2023")


st.header('Bike Share Trend')

tab1, tab2 = st.tabs(["Tab 1", "Tab 2"])
 
with tab1:
    st.subheader("Montly Users Data")
    st.text("")
    fig, ax = plt.subplots(figsize=(15, 8))

    # Create line plots using sns.lineplot
    sns.lineplot(x="month-year", y="casual", data=monthly_users_df, label='Casual')
    sns.lineplot(x="month-year", y="registered", data=monthly_users_df, label='Registered')

    # Customize the plot
    ax.set_xlabel("Date")
    ax.set_ylabel("Total Rides")
    ax.set_title("Monthly count of casual and registered bikeshare rides (2011-2012)", loc="center", fontsize=20)
    ax.tick_params(axis='x', labelsize=10)
    ax.tick_params(axis='y', labelsize=15)
    plt.legend(loc='upper left', fontsize=15)

    # Show the plot using st.pyplot
    st.pyplot(fig)
 
with tab2:
    st.subheader("Casual-Registered Ratio Data")
    fig, ax = plt.subplots(figsize=(15, 8))

    # Create line plot for the ratio
    sns.lineplot(x="month-year", y="%casual", data=type_users_df, label='Casual')

    # Customize the plot
    ax.set_xlabel("Date")
    ax.set_ylabel("Ratio (%)")
    ax.set_title("Ratio of casual to sum of all bikeshare rides (2011-2012)", loc="center", fontsize=20)
    ax.tick_params(axis='x', labelsize=10)
    ax.tick_params(axis='y', labelsize=15)
    plt.legend(loc='upper left', fontsize=15)

    # Show the plot using st.pyplot
    st.pyplot(fig)

with st.expander("Insights:"):
        st.write(
            """
            1.   The overall data of registered and casual users of bake sharing 
                 system shows similar pattern over two year period of 2011-2012.
            2.   But, the ratio of is very low between December 2011 until February 
                 2012 simultenously with the reduction of overall bike share usage

            """
        )

st.text("")
st.header('Bike Share Seasonal Trend Usage')

sns.set(style="whitegrid")
fig, ax = plt.subplots(figsize=(12, 5))

sns.barplot(x='season',
            y='cnt',
            data=seasonal_users_df,
            palette="viridis")

# Customize the plot
ax.set_title('Histogram of Users Count by Season')
ax.set_xlabel('Season')
ax.set_ylabel('Count of Users')
ax.tick_params(axis='y', labelsize=20)
ax.tick_params(axis='x', labelsize=15)

# Show the plot
st.pyplot(fig)

with st.expander("Insights:"):
        st.write(
            """
            1.   The peak season of bike share usage is during Summer Season and the lowest is during winter season
            2.   There is major difference between number of users in winter season compared to others
            """
        )


st.text("")
st.header('Correlation Environmental Condition to Bike Share Usage')

fig, ax = plt.subplots(figsize=(14,6))

sns.scatterplot(x='hum', y='cnt', data=cleaned_days_df, hue='season')

ax.set_xlabel("Humidity (%)")
ax.set_ylabel("Number of Users")
ax.set_title("Correlation of active Users related to Humidity of the Season")
ax.tick_params(axis='y', labelsize=20)
ax.tick_params(axis='x', labelsize=15)

# Show the plot
st.pyplot(fig)

with st.expander("Insights:"):
        st.write(
            """
            1.   The scatter plot above shows if there's no significant relation between humidity and the number of active users
            2.   Most likely, people are tend to use bike share when the humidity in condition betweeen 40% to 90%
            """
            )

st.text("")
st.header("Conclusion")

col1, col2, col3 = st.columns([1, 1, 1])

with col1:
    st.subheader("Question 1")
    st.markdown("How is the trend of bikesharing usage by registered and casual users?")
    st.markdown('''
1. The overall data of registered and casual users of bake sharing system shows similar pattern over two year period of 2011-2012.
2. But, the ratio of is very low between December 2011 until February 2012 simultenously with the reduction of overall bike share usage
3. In conclusion, both casual and registerd users show a positive growth over two years analysis. While, every winter show the reduction of bike share users (in range of November to January)

''')
    st.text("")

with col2:
    st.subheader("Question 2")
    st.markdown("What is the peak season of bikesharing usage?")
    st.markdown("The peak season of bike share usage is during Summer Season and the lowest is during winter season")
    st.text("")

with col3:
    st.subheader("Question 3")
    st.markdown("Is there a correlation between humidity and the number of bike sharing users?")
    st.markdown('''
1. The scatter plot above shows if there's no significant relation between humidity and the number of active users due to separation of the data
2. Besides, people are tend to use bike share when the humidity in condition betweeen 40% to 90% in every season
''')